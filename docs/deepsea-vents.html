<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Deep-sea vents</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Hu lab</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">about</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="./team.html" rel="" target="">
 <span class="dropdown-text">Lab members</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lab-policies.html" rel="" target="">
 <span class="dropdown-text">Lab community</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">research</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="./deepsea-vents.html" rel="" target="">
 <span class="dropdown-text">Deep-sea vents</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./time-series.html" rel="" target="">
 <span class="dropdown-text">Time-series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data-science.html" rel="" target="">
 <span class="dropdown-text">Data science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./publications.html" rel="" target="">
 <span class="dropdown-text">Publications</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/shu251" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://www.instagram.com/microhukaryote/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-instagram"></i></a>
    <a href="https://scholar.google.com/citations?user=9CI91CMAAAAJ&amp;hl=en" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-share"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#questions" id="toc-questions" class="nav-link active" data-scroll-target="#questions"><span class="header-section-number">1</span> Questions</a></li>
  <li><a href="#accessing-deep-sea-food-webs" id="toc-accessing-deep-sea-food-webs" class="nav-link" data-scroll-target="#accessing-deep-sea-food-webs"><span class="header-section-number">2</span> Accessing deep-sea food webs</a></li>
  <li><a href="#deep-sea-vent-protists" id="toc-deep-sea-vent-protists" class="nav-link" data-scroll-target="#deep-sea-vent-protists"><span class="header-section-number">3</span> Deep-sea vent protists</a></li>
  <li><a href="#microbes-need-frenemies" id="toc-microbes-need-frenemies" class="nav-link" data-scroll-target="#microbes-need-frenemies"><span class="header-section-number">4</span> Microbes need frenemies</a></li>
  <li><a href="#field-work" id="toc-field-work" class="nav-link" data-scroll-target="#field-work"><span class="header-section-number">5</span> Field work</a>
  <ul class="collapse">
  <li><a href="#axial-seamount-2022-2023" id="toc-axial-seamount-2022-2023" class="nav-link" data-scroll-target="#axial-seamount-2022-2023"><span class="header-section-number">5.1</span> Axial Seamount 2022 &amp; 2023</a></li>
  <li><a href="#mid-cayman-rise---2020-expedition" id="toc-mid-cayman-rise---2020-expedition" class="nav-link" data-scroll-target="#mid-cayman-rise---2020-expedition"><span class="header-section-number">5.2</span> Mid-Cayman Rise - 2020 Expedition</a></li>
  <li><a href="#gorda-ridge---2019-expedition" id="toc-gorda-ridge---2019-expedition" class="nav-link" data-scroll-target="#gorda-ridge---2019-expedition"><span class="header-section-number">5.3</span> Gorda Ridge - 2019 Expedition</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Deep-sea vents</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/IMG_3510-Edit-Edit.jpg" class="img-fluid figure-img" width="2050"></p>
<figcaption class="figure-caption margin-caption">Â©Woods Hole Oceanographic Institution</figcaption>
</figure>
</div>
<p>Highly reduced and thermally charged venting fluids from the subseafloor mix with surrounding seawater, creating a sharp geochemical gradient which promotes a hub of biological diversity at the site of venting fluid. Studies of the bacterial and archaeal chemosynthetic populations at hydrothermal vent sites have highlighted the important roles these microorganisms play in deep-sea carbon cycling and offered a unique window into subseafloor microbiology. To date, studies of deep-sea food webs and ecological interactions do not typically cover the microbial eukaryotic assemblages.</p>
<p>Heterotrophic protists are ubiquitous in all aquatic ecosystems and represent an important ecological link by transferring organic carbon from primary producers to higher trophic levels. Previous work has shown protists to be present and active at deep-sea hydrothermal vents and efforts to characterize the composition of these populations has revealed many species to be heterotrophic grazers and parasites. However, efforts to quantify protistan grazing pressure in the deep sea are rare.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/foodweb-map-simple.png" class="img-fluid"></p>
</div></div><section id="questions" class="level2 page-columns page-full" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="questions"><span class="header-section-number">1</span> Questions</h2>
<p>Supported by the <a href="https://www.darkenergybiosphere.org/">Center for Dark Energy Biosphere Investigations STC</a>, I joined <a href="https://www2.whoi.edu/staff/jhuber/projects/">Dr.&nbsp;Julie Huberâs lab</a> at <a href="https://www.whoi.edu/">WHOI</a>. Since 2018, I have been involved in several expeditions to hydrothermal vents (see below) to address these main questions:</p>
<ul>
<li><p>What is the role of protists in deep-sea hydrothermal vent food web ecology?</p></li>
<li><p>How does protistan diversity, distribution, and activity influence carbon flux in the deep sea?</p></li>
<li><p>What is the biogeography and distribution of the deep-sea hydrothermal vent microbial eukaryotic community?</p></li>
<li><p>What biotic or abiotic parameters appear to influence protistan community diversity at deep-sea hydrothermal vents?</p></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/cdebi-logo.png" class="img-fluid"></p>
</div></div><div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/wrapup3.jpg" class="img-fluid figure-img" width="750"></p>
<figcaption class="figure-caption margin-caption">Sarah Hu, Alexis Adams, and Emilie Skoog look at biobox samples from Axial Seamount. Photo by Hannah Piecuch Â©Woods Hole Oceanographic Institution</figcaption>
</figure>
</div>
</section>
<section id="accessing-deep-sea-food-webs" class="level2 page-columns page-full" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="accessing-deep-sea-food-webs"><span class="header-section-number">2</span> Accessing deep-sea food webs</h2>
<p>To assess microbial biodiversity, we rely on sequencing the DNA from microbial cells that are collected onto a filter. The genetic material is extracted and sequenced so we can gain a snapshot of the microbial community composition <em>(who is present?)</em>. These molecular approaches have been critical in gaining the knowledge we currently have on the microbial communities in deep-sea and difficult to range habitats. Actually getting to deep-sea habitats takes a lot of engineering and planning. Broadly, we can use remotely- or human-operated vehicles (ROVs and HOVs) from a ship. Often we have to run experiments on the ship once the ROV returns with hydrothermal vent fluid or have the ROV collect samples <em>in situ</em>.</p>
<p>For this work, I run incubations with diffuse flow fluid collected via ROV to capture the grazing activity of heterotrophic protists. Consumption of microbial prey by protistan grazers (heterotrophs) is a key route of carbon exchange (the transfer of chemosynthetic microorganisms to higher trophic level), and these experiments allow us to obtain a grazing rate (cells consumed ml^-1 day ^day). In order to assess the level of grazing pressure by protists, I compare and contrast the grazing rates and community composisions of protistan assemblages within discharging vent fluid, the plume (hydrothermally-influenced environment above the vent site), and the background deep-sea water.</p>

<div class="no-row-height column-margin column-container"><div class="">
<blockquote class="blockquote">
<p>Protistan grazing is higher within diffuse vent fluid <img src="images/vent-with-location.png" class="img-fluid" data-fig-align="center"></p>
</blockquote>
</div></div><p>In aquatic habitats, transition zones driven by changes in chemistry or nutrients can create biological âhotspotsâ of microbial activity. Within the hydrothermal vent environment</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/vondamm-j21235.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Â©Woods Hole Oceanographic Institution</figcaption>
</figure>
</div>
</section>
<section id="deep-sea-vent-protists" class="level2 page-columns page-full" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="deep-sea-vent-protists"><span class="header-section-number">3</span> Deep-sea vent protists</h2>
<p>We conducted an 18S rRNA gene survey to see how distinct microbial eukaryotic populations were within vent fluids situated meters apart compared to oceans apart.</p>
<p>The total number of protistan species detected with amplicon sequencing was consistently higher within diffusly venting fluid at each vent site (compared to the plume and background environment). Few species appeared to be shared across vent fields, and populations at individual vent sites (only meters apart) were largely distinct from one another.</p>

<div class="no-row-height column-margin column-container"><div class="">
<blockquote class="blockquote">
<p>Protistan diversity is elevated within diffuse vent fluid</p>
</blockquote>
</div></div><div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/fig1_Map_Revised.png" class="img-fluid figure-img" width="800"></p>
<figcaption class="figure-caption margin-caption">Map from Hu et al.&nbsp;2022</figcaption>
</figure>
</div>
</section>
<section id="microbes-need-frenemies" class="level2 page-columns page-full" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="microbes-need-frenemies"><span class="header-section-number">4</span> Microbes need frenemies</h2>
<p>Can the interaction of microbes with others be defined as friendly? rival? or <strong>frenemy</strong>?</p>
<p>Ecological interactions among microbes (bacteria and archaea), viruses, and eukaryotic microorganisms are critical junctions in marine food webs. These interactions range from mutually beneficial relationships to sources of microbial mortality. Interactions between viruses-microbes and eukaryotes-microbes at deep-sea hydrothermal vents impact local carbon cycling. This project aims to identify these microbial interactions, specifically those related to cell death by protistan grazing or viral lysis, and explore how they vary across different hydrothermal vent habitats. By providing a better understanding of the composition and nature of these relationships, the investigators aim to build a better food web model of deep-sea hydrothermal vents and improve our understanding of how climate change and other human activities impact the ecosystem.</p>
<p>Outcomes from this project include the generation of new microbiology, oceanography, and computer science curricula targeted at community college students. In addition, it involves research with undergraduate students at all stages of the research process and provides opportunities for professional development and peer-to-peer mentoring.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="images/nsf-logo.png" class="img-fluid"></p>
</div></div><p><a href="https://www.bco-dmo.org/project/875053">Newly awarded NSF proposal with Rika Anderson &amp; Julie Huber</a></p>
</section>
<section id="field-work" class="level2 page-columns page-full" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="field-work"><span class="header-section-number">5</span> Field work</h2>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/EarlyCareer3.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Photo by Hannah Piecuch Â©Woods Hole Oceanographic Institution</figcaption>
</figure>
</div>
<section id="axial-seamount-2022-2023" class="level3 page-columns page-full" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="axial-seamount-2022-2023"><span class="header-section-number">5.1</span> Axial Seamount 2022 &amp; 2023</h3>
<p>We visited Axial Seamount (NE Pacific Ocean) in both 2022 and 2023 as part of an <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1947776&amp;HistoricalAwards=false">NSF-funded proposal</a> to characterize the rate and route of carbon via phagotrophic protists.</p>
<p><a href="https://ndsf.whoi.edu/mission-accomplished/">Read more about our expedition from our cruise blog</a></p>
<p>Axial Seamount is an active submarine volcano on the Juan de Fuca Ridge in the NE Pacific Ocean, off the coast of Oregon. The microbiome of the low-temperature (&lt;100C) diffuse vent sites in the region have been frequently studied and the vent field within the caldera include a range of distinct geochemistries.</p>
<p>PhD students Kayla Nedd &amp; Alexis Adams were featured on the National Deep Submergence Facility <a href="https://ndsf.whoi.edu/the-possibilities-are-endless/">cruise blog</a>.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/CTD_AXIAL_IMG_6317.jpg" class="img-fluid figure-img" width="1500"></p>
<figcaption class="figure-caption margin-caption">CTD sampling at Axial Seamount</figcaption>
</figure>
</div>
<hr>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/jason-van.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Jason control van</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/jason-sarah.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">ROV Jason</figcaption>
</figure>
</div>
</section>
<section id="mid-cayman-rise---2020-expedition" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="mid-cayman-rise---2020-expedition"><span class="header-section-number">5.2</span> Mid-Cayman Rise - 2020 Expedition</h3>
<p>I was a part of the RV Atlantis (AT42-22) research cruise to study the geochemistry and microbiology of the Von Damm and Piccard vent fields, located on the Mid-Cayman Rise. We completed 9 dives with ROV Jason at the Von Damm and Piccard vent fields. Hydrothermal vent fluid collection was facilitated by the isobaric gas-tight (IGT) fluid samplers (9) and the hydrothermal organic geochemistry (HOG) sampler (Susan Lang). CTD-rosette casts were also conducted to obtain water column plume and background seawater. Relevant objectives included (1) conducting grazing incubations and (2) collecting samples from the hydrothermal vent, plume, and background seawater environments. Laboratory work for analyzing the grazing experiments and cell counts has been completed and the molecular work is in progress.</p>
<p>Samples from Von Damm (10 sites) and Piccard (8 sites) vent fields will provide detailed analysis of the microbial composition, biogeography, and role in the food web. 3 of the grazing experiments originated from CTD-rosette casts from the background and plume environment and 6 were conducted with fluid from the HOG. 4 grazing experiments were performed with the IGT, so incubations remained at <em>in situ</em> pressure.</p>
<p><img src="images/cam2_20190607132644_edited.jpg" class="img-fluid" data-fig-align="center">{fig.cap=âROV Hercules at newly discovered Apollo vent field. Credit: OET/Nautilus Liveâ}</p>
</section>
<section id="gorda-ridge---2019-expedition" class="level3 page-columns page-full" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="gorda-ridge---2019-expedition"><span class="header-section-number">5.3</span> Gorda Ridge - 2019 Expedition</h3>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/Sarah-and-Amy-Controlvan-2.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Image credit: Ocean Exploration Trust</figcaption>
</figure>
</div>
<p>Sea Cliff and Apollo vent fields along the Gorda Ridge spreading center, located ~200 km off the coast of southern Oregon, were visited in May-June 2019 with the E/V Nautilus (cruise NA108; 5). Low temperature diffuse hydrothermal vent fluid samples &lt;100ÂºC were collected using the ROV Hercules and a SUspended Particle Rosette Sampler (SUPR; 6). The overarching goal of the cruise was to integrate scientific investigation of the deep sea with the exploration of ocean worlds on other planets, as the deep-sea hydrothermal vent system serves as an analog environment (a part of the SUBSEA program (Systematic Underwater Biogeochemical Science and Exploration Analog)).</p>
<p>Findings from the Gorda Ridge cruise are published: Hu, S.K., Herrera, E.L., Smith, A.R., Pachiadaki, M.G., Edgcomb, V.P., Sylva, S.P., Chan E.W., Seewald, J.S., German, C.R., &amp; Huber, J.A. (2021) Protistan grazing impacts microbial communities and carbon cycling in the deep-sea hydrothermal vent environment. Proc Natl Acad Sci USA <a href="https://www.pnas.org/content/118/29/e2102674118">link</a> <a href="https://shu251.github.io/protist-gordaridge-2021/">code</a></p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/IMG_4779.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption margin-caption">Image credit: Ocean Exploration Trust</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full">
<p><img src="images/mtedwards-cones.png" class="img-fluid figure-img" width="500"></p>
<figcaption class="figure-caption margin-caption">Image credit: Ocean Exploration Trust</figcaption>
</figure>
</div>
<p>All 6 microcolonizer experiments (pictured above) were placed on and near active diffuse flow at Mt. Edwards, each had substrates that included: shell (CaCO3) Riftia tubeworm shell (chitin), quartz, pyrite, basalt, and olivine). Microcolonizers experienced a range of temperatures, influenced by the diffusely venting fluid nearby</p>
<ul>
<li><p>What species colonize these substrates first?</p></li>
<li><p>Does species richness and evenness vary by substrate type?</p></li>
<li><p>Are the same species found on the substrates also found at the diffuse vent fluid?</p></li>
</ul>
<p>A summary of my findings were presented as part of the ISOP virtual poster session.</p>
<p><img src="images/GR-comic-protistsession-updated.png" class="img-fluid" width="4000"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>